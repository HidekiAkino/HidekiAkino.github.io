<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="robots" content="noindex" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>お買い物メニュー</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<header>
    <center>
        <h1>お買い物サイト</h1>
    </center>
    <script type="text/javascript" src="alldata.js"></script>
    <script type="text/javascript" src="script.js"></script>
</header>

<br>
<br>
<br>

<body>
    <div>
        <!--フォーム-->
        <form name="sale_form">
            <center>
                <h1 class="contact-title">お買い物ページ</h1>
                <p>欲しいものをクリックしてください.</p>
            </center>
            <div>
                <table id="sales-table"><tr><td><button type="button" onclick="location.reload()">更新</button></td>
                <td><button type="button" onclick="history.back()">戻る</button></td></tr>
            </table>
            </div>
            <center>                
                        <div>
                            <table id="sale-table"><tr>
                            </table>                       
                        </div>
                    
            </center>
            <script type="text/javascript">
                window.onload = function() {
                    //商品リストのセット用配列salelist宣言
                    let saleList = [];
                    //商品分の要素をsalelistにセットする
                    for (let i=0; i < allItem.length; i++ ) {
                        //在庫なしは表示しない
                        if (allItem[i]["Stock"] !== 0) {
                            if ((i + 1 )% 3 === 0) {
                            saleList += '<th>品名：'+ allItem[i]["Name"]+'<br>価格：' + allItem[i]["Price"] + '<br><img src="' + allItem[i]["Image"] +'" class ="sale"><br><a href="itemBuy.html?num=' + allItem[i]["Number"] + '">購入</a></th></tr>';
                            } else {
                            saleList += '<th>品名：'+ allItem[i]["Name"]+'<br>価格：' + allItem[i]["Price"] + '<br><img src="' + allItem[i]["Image"] +'" class ="sale"><br><a href="itemBuy.html?num=' + allItem[i]["Number"] + '">購入</a></th>';
                        }
                        }
                    }
                    //sale-tableの位置に商品リスト書き込み
                    document.getElementById('sale-table').innerHTML = saleList;
                    //console.log(saleList);
                }
            </script>
            
        </form>
    </div>

</body>
</html>